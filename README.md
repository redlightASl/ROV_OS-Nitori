# Nitori-ROV-OS

一个专门为水下机器人（ROV、AUV）进行优化的实时操作系统

可以通过修改硬件兼容层（Port）进行移植

预计最初版本支持stm32h750，并在实验室目前的水下机器人中进行部署

系统分为四层，六个主要组件：

* 硬件兼容层：用于移植到不同的硬件项目，只要修改少数关键API即可实现同型号内核间移植

    组件：Port

* 内核层：包括了一个极其微型的抢占式操作系统内核，能够实现时间片轮转调度、信号量、互斥量、消息队列功能

    组件：Sys	Thread

* 硬件抽象层：使用Port组件中定义的API对底层寄存器进行控制，自带了许多常用的控制算法和一些特殊算法，可以实现对PWM设备的高效率调用、根据经验公式控制任意数量的水下推进器、灵活的机械臂控制和可以快速调参（甚至实现自整定）的PID控制

    组件：BasicCtrl	Algorithm

* 传感器控制层：通过指针直接控制底层传感器数据采集，可以实现按照硬件抽象层的统一接口直接控制底层传感器数据，同时预留了硬件加速和AUV的编程接口，用于后续配合其他先进机型

    组件：Sensor

